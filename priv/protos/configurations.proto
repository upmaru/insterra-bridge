syntax = "proto3";

import "responses.proto";

package insterra.protos.configurations;

service Handler {
  rpc Create (Archive.CreateRequest) returns (Archive.Response) {}
}

message Error {
  string message = 1;
  string code = 2;
}

message Archive {
  message CreateRequest {
    int32 stack_id = 1 [json_name="stack_id"];
    repeated Customization customizations = 2;
  }

  message Response {
    responses.Code code = 1;
    string message = 2;
    Archive data = 3;
  }

  message Customization {
    int32 component_id = 1 [json_name="component_id"];
    bytes attributes = 2;
  }

  message File {
    string name = 1;
    string content = 2;
  }

  int32 id = 1;
  repeated File files = 2;
}

